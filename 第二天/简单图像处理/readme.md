# ç®€å•å›¾åƒå¤„ç†

å›¾åƒé¢œè‰²åƒå˜ä¸‡åŒ–ï¼Œæœ€å¸¸è§æ˜¯è‡ªç„¶å…‰ï¼Œå¯ä»¥åˆ†æˆä¸åŒçš„é¢œè‰²åˆ†é‡ï¼Œä¸»è¦ç”±çº¢ã€ç»¿å’Œé»„ä¸‰åŸå…‰åˆæˆRGBï¼Œä»£è¡¨çº¢ç»¿è“ä¸‰ä¸ªé€šé“çš„é¢œè‰²ã€‚



å›¾åƒé¢œè‰²åŒºåŸŸå¤„ç†å¯¹äºé™æ€å›¾åƒéå¸¸é‡è¦ã€‚åœ¨matlabä¸­æä¾›äº†roicolorå‡½æ•°æ ¹æ®é¢œè‰²é€‰å®šåŒºåŸŸã€‚å…¶è°ƒç”¨æ ¼å¼å¦‚ä¸‹ï¼š

BW=roicolor(A,low,high):è‰²å›¾èŒƒå›´ä¸º:[low,high],è¿”å›è¿™äº›åƒç´ é€‰æ‹©åŒºåŸŸã€‚BWå†…éƒ¨å€¼ä¸º1ï¼Œå¤–è¾¹ä¸º0çš„çŸ©é˜µã€‚



åœ¨å“ªé‡Œå»æ‰¾åŸå›¾åƒ



åœ¨ MATLAB ä¸­ä½¿ç”¨å›¾åƒå¤„ç†æ—¶ï¼Œä½ æœ‰å‡ ç§æ–¹å¼è·å–åŸå§‹å›¾åƒï¼š

------

## âœ… ä¸€ã€ä½¿ç”¨ MATLAB è‡ªå¸¦çš„ç¤ºä¾‹å›¾åƒ

MATLAB è‡ªå¸¦ä¸€äº›ç»å…¸å›¾åƒå¯ç›´æ¥ä½¿ç”¨ï¼Œå¦‚ï¼š

```matlab
img = imread('peppers.png');     % å½©æ¤’å›¾
img = imread('cameraman.tif');   % é»‘ç™½æ‘„å½±å›¾
img = imread('coins.png');       % ç¡¬å¸å›¾
img = imread('saturn.png');      % åœŸæ˜Ÿå›¾
```

> ğŸ“ è¿™äº›å›¾åƒåœ¨ MATLAB å®‰è£…ç›®å½•ä¸‹çš„ `toolbox/images/imdata/` æ–‡ä»¶å¤¹é‡Œã€‚

------

## âœ… äºŒã€ä½¿ç”¨æœ¬åœ°å›¾åƒï¼ˆä½ è‡ªå·±çš„å›¾ç‰‡ï¼‰

æŠŠå›¾åƒæ–‡ä»¶ï¼ˆæ¯”å¦‚ `.jpg`, `.png`ï¼‰æ”¾åˆ°å½“å‰å·¥ä½œç›®å½•ï¼Œæˆ–è€…æŒ‡å®šå®Œæ•´è·¯å¾„ï¼š

```matlab
img = imread('myphoto.jpg');         % æ–‡ä»¶åœ¨å½“å‰ç›®å½•
img = imread('D:\images\test.png');  % æŒ‡å®šç»å¯¹è·¯å¾„
```

------

## âœ… ä¸‰ã€ä»äº’è”ç½‘ä¸‹è½½å›¾åƒ

å¯ä»¥å…ˆç”¨æµè§ˆå™¨ä¸‹è½½å›¾ç‰‡ï¼Œç„¶åè¯»å…¥ï¼š

```matlab
url = 'https://example.com/image.jpg';
filename = 'downloaded.jpg';
websave(filename, url);         % ä¸‹è½½å›¾åƒ
img = imread(filename);         % è¯»å–å›¾åƒ
```

> âš ï¸ æ³¨æ„ï¼šwebsave éœ€è¦è”ç½‘æƒé™ï¼Œæœ‰äº› MATLAB ç¯å¢ƒé»˜è®¤å…³é—­è”ç½‘ã€‚

------

## âœ… å››ã€ç”¨ MATLAB App æˆ– GUI æ‹¾å–å›¾åƒ

ä½ å¯ä»¥ç”¨äº¤äº’å¼æ–¹å¼é€‰æ‹©å›¾åƒï¼š

```matlab
[filename, pathname] = uigetfile({'*.jpg;*.png;*.bmp'}, 'é€‰æ‹©å›¾åƒ');
if isequal(filename, 0)
    disp('ç”¨æˆ·å–æ¶ˆäº†é€‰æ‹©');
else
    img = imread(fullfile(pathname, filename));
    imshow(img);
end
```

------

éœ€è¦æˆ‘å¸®ä½ ä¸‹è½½ä¸€äº›ç»å…¸å›¾åƒç´ æç”¨äºæµ‹è¯•å—ï¼Ÿæˆ–è€…æ¨èä¸€äº›å…¬å¼€çš„å›¾åƒå¤„ç†æ•°æ®é›†ï¼Ÿ





å›¾åƒå¤„ç†æ˜¯ MATLAB çš„å¼ºé¡¹ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„å›¾åƒå¤„ç†å·¥å…·ç®±ï¼ˆImage Processing Toolboxï¼‰ã€‚ä¸‹é¢æ˜¯ä¸€äº› **ç®€å•å›¾åƒå¤„ç†çš„å¸¸ç”¨æ“ä½œå’Œä»£ç ç¤ºä¾‹**ï¼Œé€‚åˆå…¥é—¨çº§å­¦ä¹ ï¼š

------

## ğŸ–¼ï¸ 1. è¯»å–å’Œæ˜¾ç¤ºå›¾åƒ

```matlab
img = imread('peppers.png'); % è¯»å–å›¾åƒ
imshow(img);                 % æ˜¾ç¤ºå›¾åƒ
```

------

## ğŸŒˆ 2. è½¬æ¢ä¸ºç°åº¦å›¾åƒ

```matlab
gray_img = rgb2gray(img);  % RGB è½¬ç°åº¦
imshow(gray_img);
```

------

## âœ‚ï¸ 3. è£å‰ªå›¾åƒ

```matlab
cropped = imcrop(img, [50 50 100 100]);  % è£å‰ªçŸ©å½¢åŒºåŸŸï¼Œæ ¼å¼ï¼š[x y width height]
imshow(cropped);
```

------

## ğŸ§Š 4. å›¾åƒç¼©æ”¾ï¼ˆResizeï¼‰

```matlab
small_img = imresize(img, 0.5);  % ç¼©å°ä¸€åŠ
imshow(small_img);
```

------

## ğŸ”„ 5. å›¾åƒæ—‹è½¬

```matlab
rotated = imrotate(img, 45);  % æ—‹è½¬45åº¦
imshow(rotated);
```

------

## ğŸ“ˆ 6. ç›´æ–¹å›¾å¢å¼ºï¼ˆå¢å¼ºå¯¹æ¯”åº¦ï¼‰

```matlab
gray_img = rgb2gray(img);
enhanced = histeq(gray_img);   % ç›´æ–¹å›¾å‡è¡¡åŒ–
imshow(enhanced);
```

------

## ğŸ” 7. å›¾åƒè¾¹ç¼˜æ£€æµ‹

```matlab
gray_img = rgb2gray(img);
edges = edge(gray_img, 'Canny');  % ä½¿ç”¨Cannyæ–¹æ³•æ£€æµ‹è¾¹ç¼˜
imshow(edges);
```

------

## ğŸ§ª 8. å›¾åƒæ»¤æ³¢ï¼ˆæ¨¡ç³Šï¼‰

```matlab
h = fspecial('gaussian', [5 5], 2);  % åˆ›å»ºé«˜æ–¯æ»¤æ³¢å™¨
blurred = imfilter(img, h);
imshow(blurred);
```

------

å¦‚æœä½ å‘Šè¯‰æˆ‘ä½ æƒ³åšå“ªä¸€ç±»å›¾åƒå¤„ç†ï¼ˆå¦‚å»å™ªã€ç‰¹å¾æå–ã€å›¾åƒåˆ†å‰²ã€è¾¹ç¼˜æ£€æµ‹ç­‰ï¼‰ï¼Œæˆ‘å¯ä»¥ç»™ä½ æ›´è¯¦ç»†çš„ç¤ºä¾‹å’Œè®²è§£ã€‚éœ€è¦æˆ‘ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„ GUI ç¤ºä¾‹å—ï¼Ÿæˆ–è€…æ˜¯å•ç‹¬æ¨¡å—çš„äº¤äº’ï¼Ÿ



äºŒå€¼åŒ–æ˜¯ä»€ä¹ˆ



å¥½é—®é¢˜ï¼**å›¾åƒäºŒå€¼åŒ–**æ˜¯å›¾åƒå¤„ç†ä¸­ä¸€ä¸ªéå¸¸åŸºç¡€ä½†å¾ˆæœ‰ç”¨çš„æ“ä½œï¼Œå°¤å…¶æ˜¯åœ¨è¾¹ç¼˜æå–ã€ç›®æ ‡è¯†åˆ«ã€å›¾åƒåˆ†å‰²ç­‰ä»»åŠ¡ä¸­ã€‚

------

## ğŸ§  ä»€ä¹ˆæ˜¯äºŒå€¼åŒ–ï¼Ÿ

ç®€å•æ¥è¯´ï¼Œ**äºŒå€¼åŒ–å°±æ˜¯æŠŠç°åº¦å›¾åƒå˜æˆåªæœ‰é»‘ç™½ä¸¤ç§é¢œè‰²çš„å›¾åƒ**ã€‚

- é»‘è‰²ï¼ˆ0ï¼‰ï¼šè¡¨ç¤ºèƒŒæ™¯æˆ–ä½å¼ºåº¦åƒç´ 
- ç™½è‰²ï¼ˆ1 æˆ– 255ï¼‰ï¼šè¡¨ç¤ºç›®æ ‡æˆ–é«˜å¼ºåº¦åƒç´ 

äºŒå€¼å›¾åƒå°±åƒæ˜¯â€œåªä¿ç•™è½®å»“â€çš„æ•ˆæœã€‚

------

## ğŸ”§ äºŒå€¼åŒ–çš„åŸç†

ä¸€èˆ¬æ˜¯è®¾å®šä¸€ä¸ªé˜ˆå€¼ `T`ï¼Œç°åº¦å›¾åƒä¸­ï¼š

- åƒç´ å€¼ â‰¥ `T` â†’ è®¾ç½®ä¸ºç™½è‰²ï¼ˆ1 æˆ– 255ï¼‰
- åƒç´ å€¼ < `T` â†’ è®¾ç½®ä¸ºé»‘è‰²ï¼ˆ0ï¼‰

------

## âœï¸ MATLAB ç¤ºä¾‹ï¼šå›¾åƒäºŒå€¼åŒ–

```matlab
img = imread('cameraman.tif');   % ç°åº¦å›¾
bw = imbinarize(img);            % è‡ªåŠ¨é€‰é˜ˆå€¼è¿›è¡ŒäºŒå€¼åŒ–ï¼ˆOtsu æ–¹æ³•ï¼‰
imshow(bw);
```

ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨è®¾ç½®é˜ˆå€¼ï¼š

```matlab
bw = img > 100;    % åƒç´ å¤§äº100ä¸ºç™½ï¼Œå…¶ä½™ä¸ºé»‘
imshow(bw);
```

------

## ğŸ¯ è‡ªåŠ¨ vs æ‰‹åŠ¨äºŒå€¼åŒ–

| æ–¹æ³•     | å‡½æ•°              | è¯´æ˜                              |
| -------- | ----------------- | --------------------------------- |
| è‡ªåŠ¨é˜ˆå€¼ | `imbinarize(img)` | ä½¿ç”¨ Otsu æ–¹æ³•è‡ªåŠ¨æ‰¾æœ€ä½³é˜ˆå€¼      |
| æ‰‹åŠ¨é˜ˆå€¼ | `img > T`         | è‡ªå·±æŒ‡å®š Tï¼Œæ¯”å¦‚ 100ã€127ã€180 ç­‰ |

------

## ğŸ–¼ï¸ æ•ˆæœå¯¹æ¯”

- åŸå›¾ï¼šç°åº¦å›¾ï¼Œåƒç´ å€¼ 0~255
- äºŒå€¼å›¾ï¼šåªå‰© 0 å’Œ 255ï¼Œåƒé»‘ç™½æ¼«ç”»é‚£æ ·

------

éœ€è¦æˆ‘ç»™ä½ æ¼”ç¤ºä¸€ä¸ªåŠ¨æ€è°ƒèŠ‚é˜ˆå€¼çš„å›¾åƒäºŒå€¼åŒ– GUIï¼ˆæ»‘å—æ§åˆ¶ï¼‰å—ï¼Ÿè¿™æ ·ä½ å¯ä»¥å®æ—¶çœ‹åˆ°ä¸åŒé˜ˆå€¼çš„æ•ˆæœï½



1.m



```matlab
clc,clear,close all;



obj = imread('peppers.png');     % å½©æ¤’å›¾
R=obj(:,:,1);
G=obj(:,:,2);
B=obj(:,:,3);
obj_gray=rgb2gray(obj);
BW1=im2bw(obj_gray,0.49);
BW2=roicolor(obj_gray,120,200);
subplot(331),imshow(obj);
title('åŸå›¾åƒ')

subplot(332),imshow(obj_gray);
title('ç°åº¦å›¾åƒ')

subplot(333),imshow(BW1);
title('äºŒå€¼åŒ–å›¾åƒ')

subplot(334),imshow(R);
title('Ré€šé“å›¾åƒ')

subplot(335),imshow(G);
title('Gé€šé“å›¾åƒ')

subplot(336),imshow(B);
title('Bé€šé“å›¾åƒ')

subplot(313),imshow(BW2);
title('åŒºåŸŸé€‰æ‹©å›¾åƒ')

```



ä½ è¿™æ®µä»£ç æ•´ä½“é€»è¾‘æ˜¯æ­£ç¡®çš„ï¼Œä½†æ­£å¦‚å‰é¢æåˆ°çš„ï¼Œæœ€åä¸€è¡Œçš„ `subplot(313)` ä¼š**è¦†ç›–å‰é¢çš„å›¾åƒå¸ƒå±€**ï¼Œå› ä¸ºï¼š

- `subplot(313)` è¡¨ç¤ºï¼šæŠŠå›¾åƒçª—å£åˆ†æˆ **3 è¡Œ 1 åˆ—**ï¼Œæ˜¾ç¤ºåœ¨ç¬¬3è¡Œã€‚
- å‰é¢çš„ `subplot(331)` åˆ° `subplot(336)` è¡¨ç¤º **3è¡Œ3åˆ—**ï¼Œè¿™æ ·æ··åˆä½¿ç”¨ä¼šå¯¼è‡´å¸ƒå±€å†²çªï¼Œå¯èƒ½å‡ºç°å›¾åƒé‡å æˆ–æ˜¾ç¤ºä¸å®Œæ•´çš„é—®é¢˜ã€‚

------

### âœ… æ­£ç¡®åšæ³•ï¼šç»Ÿä¸€ä½¿ç”¨ `subplot(3, 3, x)` æˆ–é‡æ–°æ’å¸ƒ

ä¸‹é¢æ˜¯ä½ ä»£ç çš„**æ¨èæ”¹è¿›ç‰ˆ**ï¼ˆä¿æŒä½ åŸæ„ + å®Œæ•´æ˜¾ç¤ºæ‰€æœ‰å›¾ï¼‰ï¼š

```matlab
clc;
clear;
close all;

obj = imread('peppers.png');     % å½©æ¤’å›¾
R = obj(:,:,1);
G = obj(:,:,2);
B = obj(:,:,3);
obj_gray = rgb2gray(obj);
BW1 = imbinarize(obj_gray, 0.49);     % æ¨èç”¨imbinarizeæ›¿ä»£im2bw
BW2 = roicolor(obj_gray, 120, 200);

% ç»Ÿä¸€ä½¿ç”¨ 3x3 å­å›¾
figure;
subplot(3,3,1), imshow(obj);
title('åŸå›¾åƒ');

subplot(3,3,2), imshow(obj_gray);
title('ç°åº¦å›¾åƒ');

subplot(3,3,3), imshow(BW1);
title('äºŒå€¼åŒ–å›¾åƒ');

subplot(3,3,4), imshow(R);
title('Ré€šé“å›¾åƒ');

subplot(3,3,5), imshow(G);
title('Gé€šé“å›¾åƒ');

subplot(3,3,6), imshow(B);
title('Bé€šé“å›¾åƒ');

subplot(3,3,7), imshow(BW2);
title('åŒºåŸŸé€‰æ‹©å›¾åƒ');
```

------

### ğŸ’¡ å°æç¤º

- `im2bw` æ˜¯æ—§å‡½æ•°ï¼Œå»ºè®®æ”¹ç”¨ `imbinarize`ï¼Œè¯­æ³•ä¸€æ ·ä½†æ›´ç°ä»£ã€‚
- `subplot` æœ€å¥½æ•´é½æ’å¸ƒï¼Œå¦åˆ™å›¾åƒå¯èƒ½è¢«è¦†ç›–æˆ–å‹ç¼©å˜å½¢ã€‚
- `roicolor` ä¼šè¿”å›é€»è¾‘å›¾åƒï¼Œåªæ˜¾ç¤ºä½ è®¾å®šçš„ç°åº¦èŒƒå›´ï¼ˆ120~200ï¼‰çš„åƒç´ ï¼Œå¸¸ç”¨äºç®€å•çš„åˆ†å‰²ä»»åŠ¡ã€‚

------

å¦‚æœä½ è¿˜æƒ³åŠ ä¸€ä¸ª â€œæ»‘åŠ¨æ¡è°ƒèŠ‚é˜ˆå€¼â€çš„åŠŸèƒ½ï¼Œåšä¸ªäº¤äº’å¼äºŒå€¼åŒ–ç•Œé¢ï¼ˆå°GUIï¼‰ï¼Œæˆ‘å¯ä»¥ç«‹åˆ»å¸®ä½ å†™ä¸ªç¤ºä¾‹ã€‚éœ€è¦çš„è¯å¯ä»¥ç›´æ¥è¯´å“ˆ ğŸ˜



2.m

```matlab
clc;
clear;
close all;

obj = imread('peppers.png');     % å½©æ¤’å›¾
R = obj(:,:,1);
G = obj(:,:,2);
B = obj(:,:,3);
obj_gray = rgb2gray(obj);
BW1 = imbinarize(obj_gray, 0.49);     % æ¨èç”¨imbinarizeæ›¿ä»£im2bw
BW2 = roicolor(obj_gray, 120, 200);

% ç»Ÿä¸€ä½¿ç”¨ 3x3 å­å›¾
figure;
subplot(3,3,1), imshow(obj);
title('åŸå›¾åƒ');

subplot(3,3,2), imshow(obj_gray);
title('ç°åº¦å›¾åƒ');

subplot(3,3,3), imshow(BW1);
title('äºŒå€¼åŒ–å›¾åƒ');

subplot(3,3,4), imshow(R);
title('Ré€šé“å›¾åƒ');

subplot(3,3,5), imshow(G);
title('Gé€šé“å›¾åƒ');

subplot(3,3,6), imshow(B);
title('Bé€šé“å›¾åƒ');

subplot(3,3,7), imshow(BW2);
title('åŒºåŸŸé€‰æ‹©å›¾åƒ');

```





gino.m

```matlab
function gino()
    % åˆ›å»ºçª—å£
    fig = figure('Name', 'å›¾åƒäºŒå€¼åŒ–æ¼”ç¤º', 'NumberTitle', 'off', ...
        'Position', [100, 100, 800, 400]);

    % è¯»å–å›¾åƒå¹¶è½¬ç°åº¦
    img = imread('peppers.png');
    gray_img = rgb2gray(img);

    % åˆå§‹é˜ˆå€¼
    initial_thresh = 0.5;

    % æ˜¾ç¤ºåŸå§‹ç°åº¦å›¾åƒ
    subplot(1,2,1);
    imshow(gray_img);
    title('ç°åº¦å›¾åƒ');

    % æ˜¾ç¤ºåˆå§‹äºŒå€¼å›¾åƒ
    hBinary = subplot(1,2,2);
    bw = imbinarize(gray_img, initial_thresh);
    hImg = imshow(bw);
    title(['äºŒå€¼å›¾åƒ - é˜ˆå€¼ = ', num2str(initial_thresh)]);

    % æ·»åŠ æ»‘åŠ¨æ¡
    uicontrol('Style', 'slider', ...
        'Min', 0, 'Max', 1, 'Value', initial_thresh, ...
        'Units', 'normalized', ...
        'Position', [0.25 0.05 0.5 0.05], ...
        'Callback', @sliderCallback);

    % æ·»åŠ æ ‡ç­¾
    uicontrol('Style','text',...
        'Units','normalized',...
        'Position',[0.25 0.01 0.5 0.03],...
        'String','æ‹–åŠ¨æ»‘å—ä»¥è°ƒæ•´äºŒå€¼åŒ–é˜ˆå€¼ï¼ˆ0~1ï¼‰');

    % å›è°ƒå‡½æ•°ï¼šæ ¹æ®æ»‘åŠ¨æ¡æ›´æ–°å›¾åƒ
    function sliderCallback(src, ~)
        new_thresh = src.Value;
        new_bw = imbinarize(gray_img, new_thresh);
        set(hImg, 'CData', new_bw);
        title(hBinary, ['äºŒå€¼å›¾åƒ - é˜ˆå€¼ = ', num2str(new_thresh, '%.2f')]);
    end
end

```





è¯¥ç¨‹åºçš„è¿è¡Œéœ€åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥gino,å³å‡½æ•°å

